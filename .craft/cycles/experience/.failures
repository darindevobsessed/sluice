---
timestamp: "2026-02-07 12:25:15"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

> gold-miner@0.1.0 test
> vitest run src/app/api/focus-areas/__tests__/route.test.ts


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/app/api/focus-areas/__tests__/route.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[33m 322[2mms[22m[39m
[31m     [31m√ó[31m returns empty array when no focus areas exist[39m[32m 77[2mms[22m[39m
[31m     [31m√ó[31m returns all focus areas[39m[32m 42[2mms[22m[39m
[31m     [31m√ó[31m creates focus area with name only[39m[32m 56[2mms[22m[39m
[31m     [31m√ó[31m creates focus area with name and color[39m[32m 30[2mms[22m[39m
[31m     [31m√ó[31m returns 400 when name is missing[39m[32m 34[2mms[22m[39m
[31m     [31m√ó[31m returns 400 when name is empty string[39m[32m 28[2mms[22m[39m
[31m     [31m√ó[31m returns 409 when focus area name already exists[39m[32m 27[2mms[22m[39m
[31m     [31m√ó[31m trims whitespace from name[39m[32m 27[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 8 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mGET /api/focus-areas[2m > [22mreturns empty array when no focus areas exist
[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mGET /api/focus-areas[2m > [22mreturns all focus areas
[31m[1merror[22m: relation "focus_areas" does not exist[39m
[90m [2m‚ùØ[22m node_modules/pg-pool/index.js:[2m45:11[22m[39m
[36m [2m‚ùØ[22m setupTestDb src/lib/db/__tests__/setup.ts:[2m21:3[22m[39m
    [90m 19| [39m
    [90m 20| [39m  [90m// Clean tables before each test[39m
    [90m 21| [39m  await pool.query('TRUNCATE videos, insights, channels, settings, chu‚Ä¶
    [90m   | [39m  [31m^[39m
    [90m 22| [39m
    [90m 23| [39m  [35mreturn[39m testDb[33m![39m[33m;[39m
[90m [2m‚ùØ[22m src/app/api/focus-areas/__tests__/route.test.ts:[2m9:5[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/8]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mPOST /api/focus-areas[2m > [22mcreates focus area with name only
[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mPOST /api/focus-areas[2m > [22mcreates focus area with name and color
[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mPOST /api/focus-areas[2m > [22mreturns 400 when name is missing
[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mPOST /api/focus-areas[2m > [22mreturns 400 when name is empty string
[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mPOST /api/focus-areas[2m > [22mreturns 409 when focus area name already exists
[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mPOST /api/focus-areas[2m > [22mtrims whitespace from name
[31m[1merror[22m: relation "focus_areas" does not exist[39m
[90m [2m‚ùØ[22m node_modules/pg-pool/index.js:[2m45:11[22m[39m
[36m [2m‚ùØ[22m setupTestDb src/lib/db/__tests__/setup.ts:[2m21:3[22m[39m
    [90m 19| [39m
    [90m 20| [39m  [90m// Clean tables before each test[39m
    [90m 21| [39m  await pool.query('TRUNCATE videos, insights, channels, settings, chu‚Ä¶
    [90m   | [39m  [31m^[39m
    [90m 22| [39m
    [90m 23| [39m  [35mreturn[39m testDb[33m![39m[33m;[39m
[90m [2m‚ùØ[22m src/app/api/focus-areas/__tests__/route.test.ts:[2m49:5[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/8]‚éØ[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m8 failed[39m[22m[90m (8)[39m
[2m   Start at [22m 12:25:08
[2m   Duration [22m 7.04s[2m (transform 174ms, setup 430ms, import 1.67s, tests 322ms, environment 4.19s)[22m
---
timestamp: "2026-02-07 12:26:27"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

> gold-miner@0.1.0 test
> vitest run src/app/api/focus-areas/__tests__/route.test.ts


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/app/api/focus-areas/__tests__/route.test.ts [2m([22m[2m8 tests[22m[2m | [22m[31m2 failed[39m[2m)[22m[33m 1352[2mms[22m[39m
     [32m‚úì[39m returns empty array when no focus areas exist[32m 269[2mms[22m[39m
[31m     [31m√ó[31m returns all focus areas[39m[32m 197[2mms[22m[39m
     [32m‚úì[39m creates focus area with name only[32m 171[2mms[22m[39m
     [32m‚úì[39m creates focus area with name and color[32m 126[2mms[22m[39m
     [32m‚úì[39m returns 400 when name is missing[32m 129[2mms[22m[39m
     [32m‚úì[39m returns 400 when name is empty string[32m 127[2mms[22m[39m
     [32m‚úì[39m returns 409 when focus area name already exists[32m 197[2mms[22m[39m
[31m     [31m√ó[31m trims whitespace from name[39m[32m 134[2mms[22m[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 2 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mGET /api/focus-areas[2m > [22mreturns all focus areas
[31m[1mAssertionError[22m: expected [] to have a length of 3 but got +0[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 3[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/app/api/focus-areas/__tests__/route.test.ts:[2m40:29[22m[39m
    [90m 38| [39m
    [90m 39| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)
    [90m 40| [39m    [34mexpect[39m(data[33m.[39mfocusAreas)[33m.[39m[34mtoHaveLength[39m([34m3[39m)
    [90m   | [39m                            [31m^[39m
    [90m 41| [39m    [34mexpect[39m(data[33m.[39mfocusAreas[[34m0[39m][33m.[39mname)[33m.[39m[34mtoBe[39m([32m'React'[39m)
    [90m 42| [39m    [34mexpect[39m(data[33m.[39mfocusAreas[[34m0[39m][33m.[39mcolor)[33m.[39m[34mtoBe[39m([32m'#61dafb'[39m)

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/app/api/focus-areas/__tests__/route.test.ts[2m > [22mPOST /api/focus-areas[2m > [22mtrims whitespace from name
[31m[1mAssertionError[22m: expected 409 to be 201 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 201[39m
[31m+ 409[39m

[36m [2m‚ùØ[22m src/app/api/focus-areas/__tests__/route.test.ts:[2m143:29[22m[39m
    [90m141| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()
    [90m142| [39m
    [90m143| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m201[39m)
    [90m   | [39m                            [31m^[39m
    [90m144| [39m    [34mexpect[39m(data[33m.[39mfocusArea[33m.[39mname)[33m.[39m[34mtoBe[39m([32m'React'[39m)
    [90m145| [39m  })

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m6 passed[39m[22m[90m (8)[39m
[2m   Start at [22m 12:26:20
[2m   Duration [22m 6.32s[2m (transform 243ms, setup 488ms, import 1.53s, tests 1.35s, environment 2.48s)[22m
---
timestamp: "2026-02-07 12:29:43"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1
npm error Missing script: "typecheck"
npm error
npm error To see a list of scripts, run:
npm error   npm run
npm error A complete log of this run can be found in: /Users/darindrobinski/.npm/_logs/2026-02-07T18_29_42_896Z-debug-0.log
---
timestamp: "2026-02-07 12:44:42"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Suites 2 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/PageTitleContext.test.tsx[2m [ src/components/layout/__tests__/PageTitleContext.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "../PageTitleContext" from "src/components/layout/__tests__/PageTitleContext.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/Users/darindrobinski/dev/repos/gold-miner/src/components/layout/__tests__/PageTitleContext.test.tsx[39m:3:48
[33m  2  |  import { describe, it, expect } from "vitest";
  3  |  import { render, screen, act } from "@testing-library/react";
  4  |  import { PageTitleProvider, usePageTitle } from "../PageTitleContext";
     |                                                   ^
  5  |  function TestConsumer() {
  6  |    const { title, backHref, backLabel } = usePageTitle();[39m
[90m [2m‚ùØ[22m TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2m‚ùØ[22m normalizeUrl node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2m‚ùØ[22m node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2m‚ùØ[22m EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2m‚ùØ[22m loadAndTransform node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/TopBar.test.tsx[2m [ src/components/layout/__tests__/TopBar.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "../TopBar" from "src/components/layout/__tests__/TopBar.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/Users/darindrobinski/dev/repos/gold-miner/src/components/layout/__tests__/TopBar.test.tsx[39m:3:0
[33m  8  |  const __vi_import_0__ = await import("react/jsx-dev-runtime");
  9  |  const __vi_import_1__ = await import("@testing-library/react");
  10 |  const __vi_import_2__ = await import("../TopBar");
     |                                       ^
  11 |  const __vi_import_3__ = await import("../PageTitleContext");
  12 |  [39m
[90m [2m‚ùØ[22m TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2m‚ùØ[22m normalizeUrl node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2m‚ùØ[22m node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2m‚ùØ[22m EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2m‚ùØ[22m loadAndTransform node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/components/layout/__tests__/PageTitleContext.test.tsx src/components/layout/__tests__/TopBar.test.tsx


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/components/layout/__tests__/TopBar.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [31m‚ùØ[39m src/components/layout/__tests__/PageTitleContext.test.tsx [2m([22m[2m0 test[22m[2m)[22m

[2m Test Files [22m [1m[31m2 failed[39m[22m[90m (2)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 12:44:39
[2m   Duration [22m 3.08s[2m (transform 36ms, setup 322ms, import 0ms, tests 0ms, environment 2.06s)[22m
---
timestamp: "2026-02-07 12:45:06"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1
[90mstderr[2m | src/components/layout/__tests__/PageTitleContext.test.tsx[2m > [22m[2mPageTitleContext[2m > [22m[2mallows setting title without back link
[22m[39mCannot update a component (`PageTitleProvider`) while rendering a different component (`TestSetter`). To locate the bad setState() call inside `TestSetter`, follow the stack trace as described in https://react.dev/link/setstate-in-render

[90mstderr[2m | src/components/layout/__tests__/PageTitleContext.test.tsx[2m > [22m[2mPageTitleContext[2m > [22m[2mallows setting title without back link
[22m[39mA component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:

await act(() => ...)


[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 3 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/PageTitleContext.test.tsx[2m > [22mPageTitleContext[2m > [22mallows setting title without back link
[31m[1mAssertionError[22m: expected 'no-title' to be 'Knowledge Bank' // Object.is equality[39m

Expected: [32m"[7mK[27mno[7mwledge Bank[27m"[39m
Received: [31m"no[7m-title[27m"[39m

[36m [2m‚ùØ[22m src/components/layout/__tests__/PageTitleContext.test.tsx:[2m51:53[22m[39m
    [90m 49| [39m    )
    [90m 50| [39m
    [90m 51| [39m    expect(screen.getByTestId('title').textContent).toBe('Knowledge Ba‚Ä¶
    [90m   | [39m                                                    [31m^[39m
    [90m 52| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'back-href'[39m)[33m.[39mtextContent)[33m.[39m[34mtoBe[39m([32m'no-href'[39m)
    [90m 53| [39m    expect(screen.getByTestId('back-label').textContent).toBe('no-labe‚Ä¶

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/PageTitleContext.test.tsx[2m > [22mPageTitleContext[2m > [22mallows setting title with back link
[31m[1mAssertionError[22m: expected 'no-title' to be 'Video Detail' // Object.is equality[39m

Expected: [32m"Video Detail"[39m
Received: [31m"no-title"[39m

[36m [2m‚ùØ[22m src/components/layout/__tests__/PageTitleContext.test.tsx:[2m64:53[22m[39m
    [90m 62| [39m    )
    [90m 63| [39m
    [90m 64| [39m    expect(screen.getByTestId('title').textContent).toBe('Video Detail‚Ä¶
    [90m   | [39m                                                    [31m^[39m
    [90m 65| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'back-href'[39m)[33m.[39mtextContent)[33m.[39m[34mtoBe[39m([32m'/'[39m)
    [90m 66| [39m    expect(screen.getByTestId('back-label').textContent).toBe('Knowled‚Ä¶

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/PageTitleContext.test.tsx[2m > [22mPageTitleContext[2m > [22mupdates title when setPageTitle is called again
[31m[1mAssertionError[22m: expected 'no-title' to be 'Old Title' // Object.is equality[39m

Expected: [32m"[7mOld T[27mitle"[39m
Received: [31m"[7mno-t[27mitle"[39m

[36m [2m‚ùØ[22m src/components/layout/__tests__/PageTitleContext.test.tsx:[2m88:53[22m[39m
    [90m 86| [39m    )
    [90m 87| [39m
    [90m 88| [39m    [34mexpect[39m(screen[33m.[39m[34mgetByTestId[39m([32m'title'[39m)[33m.[39mtextContent)[33m.[39m[34mtoBe[39m([32m'Old Title'[39m)
    [90m   | [39m                                                    [31m^[39m
    [90m 89| [39m
    [90m 90| [39m    [34mact[39m(() [33m=>[39m {

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/3]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/components/layout/__tests__/PageTitleContext.test.tsx src/components/layout/__tests__/TopBar.test.tsx


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/components/layout/__tests__/PageTitleContext.test.tsx [2m([22m[2m5 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[32m 69[2mms[22m[39m
     [32m‚úì[39m provides default empty values[32m 33[2mms[22m[39m
[31m     [31m√ó[31m allows setting title without back link[39m[32m 15[2mms[22m[39m
[31m     [31m√ó[31m allows setting title with back link[39m[32m 5[2mms[22m[39m
[31m     [31m√ó[31m updates title when setPageTitle is called again[39m[32m 5[2mms[22m[39m
     [32m‚úì[39m throws error when usePageTitle is used outside provider[32m 8[2mms[22m[39m
 [32m‚úì[39m src/components/layout/__tests__/TopBar.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 262[2mms[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m11 passed[39m[22m[90m (14)[39m
[2m   Start at [22m 12:45:01
[2m   Duration [22m 4.43s[2m (transform 148ms, setup 317ms, import 943ms, tests 332ms, environment 2.15s)[22m
---
timestamp: "2026-02-07 12:46:44"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1
npm error Missing script: "typecheck"
npm error
npm error To see a list of scripts, run:
npm error   npm run
npm error A complete log of this run can be found in: /Users/darindrobinski/.npm/_logs/2026-02-07T18_46_43_810Z-debug-0.log
---
timestamp: "2026-02-07 13:01:12"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Suites 1 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/FocusAreaDropdown.test.tsx[2m [ src/components/layout/__tests__/FocusAreaDropdown.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "../FocusAreaDropdown" from "src/components/layout/__tests__/FocusAreaDropdown.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/Users/darindrobinski/dev/repos/gold-miner/src/components/layout/__tests__/FocusAreaDropdown.test.tsx[39m:4:34
[33m  3  |  import { render, screen, waitFor } from "@testing-library/react";
  4  |  import { act } from "react";
  5  |  import { FocusAreaDropdown } from "../FocusAreaDropdown";
     |                                     ^
  6  |  import { FocusAreaProvider } from "@/components/providers/FocusAreaProvider";
  7  |  const mockFetch = vi.fn();[39m
[90m [2m‚ùØ[22m TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2m‚ùØ[22m normalizeUrl node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2m‚ùØ[22m node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2m‚ùØ[22m EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2m‚ùØ[22m loadAndTransform node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/components/layout/__tests__/FocusAreaDropdown.test.tsx


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/components/layout/__tests__/FocusAreaDropdown.test.tsx [2m([22m[2m0 test[22m[2m)[22m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 13:01:08
[2m   Duration [22m 4.46s[2m (transform 68ms, setup 676ms, import 0ms, tests 0ms, environment 3.05s)[22m
---
timestamp: "2026-02-07 13:01:47"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 8 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/FocusAreaDropdown.test.tsx[2m > [22mFocusAreaDropdown[2m > [22mopens dropdown menu when trigger is clicked
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: All. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<button[31m
      [33maria-expanded[31m=[32m"false"[31m
      [33maria-haspopup[31m=[32m"menu"[31m
      [33mclass[31m=[32m"rounded-full px-4 py-1.5 text-sm bg-muted hover:bg-muted/80 transition-colors flex items-center gap-2 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"[31m
      [33mdata-slot[31m=[32m"dropdown-menu-trigger"[31m
      [33mdata-state[31m=[32m"closed"[31m
      [33mid[31m=[32m"radix-_r_6_"[31m
      [33mtype[31m=[32m"button"[31m
    [36m>[31m
      [0mAll Areas[0m
      [36m<svg[31m
        [33maria-hidden[31m=[32m"true"[31m
        [33mclass[31m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[31m
        [33mfill[31m=[32m"none"[31m
        [33mheight[31m=[32m"24"[31m
        [33mstroke[31m=[32m"currentColor"[31m
        [33mstroke-linecap[31m=[32m"round"[31m
        [33mstroke-linejoin[31m=[32m"round"[31m
        [33mstroke-width[31m=[32m"2"[31m
        [33mviewBox[31m=[32m"0 0 24 24"[31m
        [33mwidth[31m=[32m"24"[31m
        [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
      [36m>[31m
        [36m<path[31m
          [33md[31m=[32m"m6 9 6 6 6-6"[31m
        [36m/>[31m
      [36m</svg>[31m
    [36m</button>[31m
  [36m</div>[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<button[31m
        [33maria-expanded[31m=[32m"false"[31m
        [33maria-haspopup[31m=[32m"menu"[31m
        [33mclass[31m=[32m"rounded-full px-4 py-1.5 text-sm bg-muted hover:bg-muted/80 transition-colors flex items-center gap-2 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"[31m
        [33mdata-slot[31m=[32m"dropdown-menu-trigger"[31m
        [33mdata-state[31m=[32m"closed"[31m
        [33mid[31m=[32m"radix-_r_6_"[31m
        [33mtype[31m=[32m"button"[31m
      [36m>[31m
        [0mAll Areas[0m
        [36m<svg[31m
          [33maria-hidden[31m=[32m"true"[31m
          [33mclass[31m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[31m
          [33mfill[31m=[32m"none"[31m
          [33mheight[31m=[32m"24"[31m
          [33mstroke[31m=[32m"currentColor"[31m
          [33mstroke-linecap[31m=[32m"round"[31m
          [33mstroke-linejoin[31m=[32m"round"[31m
          [33mstroke-width[31m=[32m"2"[31m
          [33mviewBox[31m=[32m"0 0 24 24"[31m
          [33mwidth[31m=[32m"24"[31m
          [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
        [36m>[31m
          [36m<path[31m
            [33md[31m=[32m"m6 9 6 6 6-6"[31m
          [36m/>[31m
        [36m</svg>[31m
      [36m</button>[31m
    [36m</div>[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90m [2m‚ùØ[22m waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m‚ùØ[22m src/components/layout/__tests__/FocusAreaDropdown.test.tsx:[2m104:11[22m[39m
    [90m102| [39m    })
    [90m103| [39m
    [90m104| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m          [31m^[39m
    [90m105| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'All'[39m))[33m.[39m[34mtoBeInTheDocument[39m()
    [90m106| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'React'[39m))[33m.[39m[34mtoBeInTheDocument[39m()

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/8]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/FocusAreaDropdown.test.tsx[2m > [22mFocusAreaDropdown[2m > [22mdisplays "All" option at the top
[31m[1mTestingLibraryElementError[22m: Unable to find role="menuitem"

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<button[31m
      [33maria-expanded[31m=[32m"false"[31m
      [33maria-haspopup[31m=[32m"menu"[31m
      [33mclass[31m=[32m"rounded-full px-4 py-1.5 text-sm bg-muted hover:bg-muted/80 transition-colors flex items-center gap-2 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"[31m
      [33mdata-slot[31m=[32m"dropdown-menu-trigger"[31m
      [33mdata-state[31m=[32m"closed"[31m
      [33mid[31m=[32m"radix-_r_8_"[31m
      [33mtype[31m=[32m"button"[31m
    [36m>[31

... [23263 characters truncated] ...

[32m"dropdown-menu-trigger"[31m
      [33mdata-state[31m=[32m"closed"[31m
      [33mid[31m=[32m"radix-_r_m_"[31m
      [33mtype[31m=[32m"button"[31m
    [36m>[31m
      [0mAll Areas[0m
      [36m<svg[31m
        [33maria-hidden[31m=[32m"true"[31m
        [33mclass[31m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[31m
        [33mfill[31m=[32m"none"[31m
        [33mheight[31m=[32m"24"[31m
        [33mstroke[31m=[32m"currentColor"[31m
        [33mstroke-linecap[31m=[32m"round"[31m
        [33mstroke-linejoin[31m=[32m"round"[31m
        [33mstroke-width[31m=[32m"2"[31m
        [33mviewBox[31m=[32m"0 0 24 24"[31m
        [33mwidth[31m=[32m"24"[31m
        [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
      [36m>[31m
        [36m<path[31m
          [33md[31m=[32m"m6 9 6 6 6-6"[31m
        [36m/>[31m
      [36m</svg>[31m
    [36m</button>[31m
  [36m</div>[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div>[31m
      [36m<button[31m
        [33maria-expanded[31m=[32m"false"[31m
        [33maria-haspopup[31m=[32m"menu"[31m
        [33mclass[31m=[32m"rounded-full px-4 py-1.5 text-sm bg-muted hover:bg-muted/80 transition-colors flex items-center gap-2 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"[31m
        [33mdata-slot[31m=[32m"dropdown-menu-trigger"[31m
        [33mdata-state[31m=[32m"closed"[31m
        [33mid[31m=[32m"radix-_r_m_"[31m
        [33mtype[31m=[32m"button"[31m
      [36m>[31m
        [0mAll Areas[0m
        [36m<svg[31m
          [33maria-hidden[31m=[32m"true"[31m
          [33mclass[31m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[31m
          [33mfill[31m=[32m"none"[31m
          [33mheight[31m=[32m"24"[31m
          [33mstroke[31m=[32m"currentColor"[31m
          [33mstroke-linecap[31m=[32m"round"[31m
          [33mstroke-linejoin[31m=[32m"round"[31m
          [33mstroke-width[31m=[32m"2"[31m
          [33mviewBox[31m=[32m"0 0 24 24"[31m
          [33mwidth[31m=[32m"24"[31m
          [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
        [36m>[31m
          [36m<path[31m
            [33md[31m=[32m"m6 9 6 6 6-6"[31m
          [36m/>[31m
        [36m</svg>[31m
      [36m</button>[31m
    [36m</div>[31m
  [36m</body>[31m
[36m</html>[31m[39m
[90m [2m‚ùØ[22m waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m‚ùØ[22m src/components/layout/__tests__/FocusAreaDropdown.test.tsx:[2m305:11[22m[39m
    [90m303| [39m    })
    [90m304| [39m
    [90m305| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m          [31m^[39m
    [90m306| [39m      [35mconst[39m menuItems [33m=[39m screen[33m.[39m[34mgetAllByRole[39m([32m'menuitem'[39m)
    [90m307| [39m      [90m// Should only have "All" and "Manage Focus Areas..."[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[8/8]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/components/layout/__tests__/FocusAreaDropdown.test.tsx


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/components/layout/__tests__/FocusAreaDropdown.test.tsx [2m([22m[2m12 tests[22m[2m | [22m[31m8 failed[39m[2m)[22m[33m 8778[2mms[22m[39m
     [33m[2m‚úì[22m[39m renders pill-shaped trigger button [33m 368[2mms[22m[39m
     [32m‚úì[39m shows "All Areas" by default when no area is selected[32m 50[2mms[22m[39m
     [32m‚úì[39m shows selected area name when an area is selected[32m 72[2mms[22m[39m
[31m     [31m√ó[31m opens dropdown menu when trigger is clicked[39m[33m 1044[2mms[22m[39m
[31m     [31m√ó[31m displays "All" option at the top[39m[33m 1036[2mms[22m[39m
[31m     [31m√ó[31m displays separator after "All" option[39m[33m 1024[2mms[22m[39m
[31m     [31m√ó[31m displays "Manage Focus Areas..." at the bottom[39m[33m 1031[2mms[22m[39m
[31m     [31m√ó[31m updates context and localStorage when selecting a focus area[39m[33m 1031[2mms[22m[39m
[31m     [31m√ó[31m updates context and localStorage when selecting "All"[39m[33m 1045[2mms[22m[39m
[31m     [31m√ó[31m calls onManageClick when "Manage Focus Areas..." is clicked[39m[33m 1022[2mms[22m[39m
     [32m‚úì[39m applies muted background styling to trigger button[32m 23[2mms[22m[39m
[31m     [31m√ó[31m renders empty list when no focus areas are available[39m[33m 1024[2mms[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m8 failed[39m[22m[2m | [22m[1m[32m4 passed[39m[22m[90m (12)[39m
[2m   Start at [22m 13:01:32
[2m   Duration [22m 14.55s[2m (transform 214ms, setup 429ms, import 1.51s, tests 8.78s, environment 3.01s)[22m
---
timestamp: "2026-02-07 13:03:09"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 1 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/FocusAreaDropdown.test.tsx[2m > [22mFocusAreaDropdown[2m > [22mdisplays separator after "All" option
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the role "separator"

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<div[39m
  [33maria-orientation[39m=[32m"horizontal"[39m
  [33mclass[39m=[32m"bg-border -mx-1 my-1 h-px"[39m
  [33mdata-slot[39m=[32m"dropdown-menu-separator"[39m
  [33mrole[39m=[32m"separator"[39m
[36m/>[39m

Ignored nodes: comments, script, style
[36m<div[39m
  [33maria-orientation[39m=[32m"horizontal"[39m
  [33mclass[39m=[32m"bg-border -mx-1 my-1 h-px"[39m
  [33mdata-slot[39m=[32m"dropdown-menu-separator"[39m
  [33mrole[39m=[32m"separator"[39m
[36m/>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body[39m
  [33mdata-scroll-locked[39m=[32m"1"[39m
  [33mstyle[39m=[32m"pointer-events: none;"[39m
[36m>[39m
  [36m<span[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
    [33mdata-radix-focus-guard[39m=[32m""[39m
    [33mstyle[39m=[32m"outline: none; opacity: 0; position: fixed; pointer-events: none;"[39m
    [33mtabindex[39m=[32m"0"[39m
  [36m/>[39m
  [36m<div[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mdata-aria-hidden[39m=[32m"true"[39m
  [36m>[39m
    [36m<button[39m
      [33maria-controls[39m=[32m"radix-_r_l_"[39m
      [33maria-expanded[39m=[32m"true"[39m
      [33maria-haspopup[39m=[32m"menu"[39m
      [33mclass[39m=[32m"rounded-full px-4 py-1.5 text-sm bg-muted hover:bg-muted/80 transition-colors flex items-center gap-2 outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"[39m
      [33mdata-slot[39m=[32m"dropdown-menu-trigger"[39m
      [33mdata-state[39m=[32m"open"[39m
      [33mid[39m=[32m"radix-_r_k_"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [0mAll Areas[0m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-chevron-down h-4 w-4 opacity-50"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"m6 9 6 6 6-6"[39m
        [36m/>[39m
      [36m</svg>[39m
    [36m</button>[39m
  [36m</div>[39m
  [36m<div[39m
    [33mdata-radix-popper-content-wrapper[39m=[32m""[39m
    [33mdir[39m=[32m"ltr"[39m
    [33mstyle[39m=[32m"position: fixed; left: 0px; top: 0px; transform: translate(0px, 4px); min-width: max-content; --radix-popper-available-width: 0px; --radix-popper-available-height: -4px; --radix-popper-anchor-width: 0px; --radix-popper-anchor-height: 0px; --radix-popper-transform-origin: 100% 0px;"[39m
  [36m>[39m
    [36m<div[39m
      [33maria-labelledby[39m=[32m"radix-_r_k_"[39m
      [33maria-orientation[39m=[32m"vertical"[39m
      [33mclass[39m=[32m"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md w-56"[39m
      [33mdata-align[39m=[32m"end"[39m
      [33mdata-orientation[39m=[32m"vertical"[39m
      [33mdata-radix-menu-content[39m=[32m""[39m
      [33mdata-side[39m=[32m"bottom"[39m
      [33mdata-slot[39m=[32m"dropdown-menu-content"[39m
      [33mdata-state[39m=[32m"open"[39m
      [33mdir[39m=[32m"ltr"[39m
      [33mid[39m=[32m"radix-_r_l_"[39m
      [33mrole[39m=[32m"menu"[39m
      [33mstyle[39m=[32m"outline: none; --radix-dropdown-menu-content-transform-origin: var(--radix-popper-transform-origin); --radix-dropdown-menu-content-available-width: var(--radix-popper-available-width); --radix-dropdown-menu-content-available-height: var(--radix-popper-available-height); --radix-dropdown-menu-trigger-width: var(--radix-popper-anchor-width); --radix-dropdow

... [7667 characters truncated] ...

ant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
          [33mdata-orientation[39m=[32m"vertical"[39m
          [33mdata-radix-collection-item[39m=[32m""[39m
          [33mdata-slot[39m=[32m"dropdown-menu-item"[39m
          [33mdata-variant[39m=[32m"default"[39m
          [33mrole[39m=[32m"menuitem"[39m
          [33mtabindex[39m=[32m"-1"[39m
        [36m>[39m
          [0mAll[0m
        [36m</div>[39m
        [36m<div[39m
          [33maria-orientation[39m=[32m"horizontal"[39m
          [33mclass[39m=[32m"bg-border -mx-1 my-1 h-px"[39m
          [33mdata-slot[39m=[32m"dropdown-menu-separator"[39m
          [33mrole[39m=[32m"separator"[39m
        [36m/>[39m
        [36m<div[39m
          [33mclass[39m=[32m"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"[39m
          [33mdata-orientation[39m=[32m"vertical"[39m
          [33mdata-radix-collection-item[39m=[32m""[39m
          [33mdata-slot[39m=[32m"dropdown-menu-item"[39m
          [33mdata-variant[39m=[32m"default"[39m
          [33mrole[39m=[32m"menuitem"[39m
          [33mtabindex[39m=[32m"-1"[39m
        [36m>[39m
          [0mReact[0m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg...
[90m [2m‚ùØ[22m waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:[2m163:27[22m[39m
[36m [2m‚ùØ[22m src/components/layout/__tests__/FocusAreaDropdown.test.tsx:[2m148:11[22m[39m
    [90m146| [39m    [35mawait[39m user[33m.[39m[34mclick[39m(screen[33m.[39m[34mgetByRole[39m([32m'button'[39m))
    [90m147| [39m
    [90m148| [39m    [35mawait[39m [34mwaitFor[39m(() [33m=>[39m {
    [90m   | [39m          [31m^[39m
    [90m149| [39m      [35mconst[39m separator [33m=[39m screen[33m.[39m[34mgetByRole[39m([32m'separator'[39m)
    [90m150| [39m      [34mexpect[39m(separator)[33m.[39m[34mtoBeInTheDocument[39m()

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/components/layout/__tests__/FocusAreaDropdown.test.tsx


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/components/layout/__tests__/FocusAreaDropdown.test.tsx [2m([22m[2m12 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 3760[2mms[22m[39m
     [33m[2m‚úì[22m[39m renders pill-shaped trigger button [33m 644[2mms[22m[39m
     [32m‚úì[39m shows "All Areas" by default when no area is selected[32m 79[2mms[22m[39m
     [32m‚úì[39m shows selected area name when an area is selected[32m 142[2mms[22m[39m
     [33m[2m‚úì[22m[39m opens dropdown menu when trigger is clicked [33m 429[2mms[22m[39m
     [32m‚úì[39m displays "All" option at the top[32m 267[2mms[22m[39m
[31m     [31m√ó[31m displays separator after "All" option[39m[33m 1216[2mms[22m[39m
     [32m‚úì[39m displays "Manage Focus Areas..." at the bottom[32m 153[2mms[22m[39m
     [32m‚úì[39m updates context and localStorage when selecting a focus area[32m 290[2mms[22m[39m
     [32m‚úì[39m updates context and localStorage when selecting "All"[32m 198[2mms[22m[39m
     [32m‚úì[39m calls onManageClick when "Manage Focus Areas..." is clicked[32m 200[2mms[22m[39m
     [32m‚úì[39m applies muted background styling to trigger button[32m 18[2mms[22m[39m
     [32m‚úì[39m renders empty list when no focus areas are available[32m 120[2mms[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m11 passed[39m[22m[90m (12)[39m
[2m   Start at [22m 13:02:59
[2m   Duration [22m 10.08s[2m (transform 248ms, setup 507ms, import 1.88s, tests 3.76s, environment 2.98s)[22m
---
timestamp: "2026-02-07 13:06:33"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1
npm error Missing script: "typecheck"
npm error
npm error To see a list of scripts, run:
npm error   npm run
npm error A complete log of this run can be found in: /Users/darindrobinski/.npm/_logs/2026-02-07T19_06_32_924Z-debug-0.log
---
timestamp: "2026-02-07 13:20:40"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Suites 1 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/components/layout/__tests__/ManageFocusAreasModal.test.tsx[2m [ src/components/layout/__tests__/ManageFocusAreasModal.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "../ManageFocusAreasModal" from "src/components/layout/__tests__/ManageFocusAreasModal.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/Users/darindrobinski/dev/repos/gold-miner/src/components/layout/__tests__/ManageFocusAreasModal.test.tsx[39m:4:38
[33m  3  |  import { render, screen, waitFor } from "@testing-library/react";
  4  |  import userEvent from "@testing-library/user-event";
  5  |  import { ManageFocusAreasModal } from "../ManageFocusAreasModal";
     |                                         ^
  6  |  import { FocusAreaProvider } from "@/components/providers/FocusAreaProvider";
  7  |  const mockFetch = vi.fn();[39m
[90m [2m‚ùØ[22m TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.error node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2m‚ùØ[22m normalizeUrl node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2m‚ùØ[22m node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2m‚ùØ[22m TransformPluginContext.transform node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2m‚ùØ[22m EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2m‚ùØ[22m loadAndTransform node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/1]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/components/layout/__tests__/ManageFocusAreasModal.test.tsx


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/components/layout/__tests__/ManageFocusAreasModal.test.tsx [2m([22m[2m0 test[22m[2m)[22m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 13:20:34
[2m   Duration [22m 5.63s[2m (transform 88ms, setup 635ms, import 0ms, tests 0ms, environment 3.98s)[22m
---
timestamp: "2026-02-07 13:23:25"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1
npm error Missing script: "typecheck"
npm error
npm error To see a list of scripts, run:
npm error   npm run
npm error A complete log of this run can be found in: /Users/darindrobinski/.npm/_logs/2026-02-07T19_23_25_163Z-debug-0.log
---
timestamp: "2026-02-07 13:33:11"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 3 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/app/api/videos/__tests__/route.test.ts[2m > [22mGET /api/videos[2m > [22mfilters videos by focusAreaId when provided
[31m[1mAssertionError[22m: expected [ { id: 8414, ‚Ä¶(9) }, ‚Ä¶(1) ] to have a length of 1 but got 2[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 2[39m

[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m245:25[22m[39m
    [90m243| [39m
    [90m244| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)
    [90m245| [39m    [34mexpect[39m(data[33m.[39mvideos)[33m.[39m[34mtoHaveLength[39m([34m1[39m)
    [90m   | [39m                        [31m^[39m
    [90m246| [39m    [34mexpect[39m(data[33m.[39mvideos[[34m0[39m][33m.[39myoutubeId)[33m.[39m[34mtoBe[39m([32m'video-1'[39m)
    [90m247| [39m  })

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/app/api/videos/__tests__/route.test.ts[2m > [22mGET /api/videos[2m > [22mreturns empty list when focus area has no videos
[31m[1mAssertionError[22m: expected [ { id: 8417, ‚Ä¶(9) } ] to deeply equal [][39m

[32m- Expected[39m
[31m+ Received[39m

[32m- [][39m
[31m+ [[39m
[31m+   {[39m
[31m+     "channel": "Test Channel",[39m
[31m+     "createdAt": "2026-02-07T19:33:11.266Z",[39m
[31m+     "duration": null,[39m
[31m+     "id": 8417,[39m
[31m+     "publishedAt": null,[39m
[31m+     "thumbnail": null,[39m
[31m+     "title": "Unassigned Video",[39m
[31m+     "transcript": "Test content",[39m
[31m+     "updatedAt": "2026-02-07T19:33:11.266Z",[39m
[31m+     "youtubeId": "unassigned-video",[39m
[31m+   },[39m
[31m+ ][39m

[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m306:25[22m[39m
    [90m304| [39m
    [90m305| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m200[39m)
    [90m306| [39m    [34mexpect[39m(data[33m.[39mvideos)[33m.[39m[34mtoEqual[39m([])
    [90m   | [39m                        [31m^[39m
    [90m307| [39m  })
    [90m308| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/app/api/videos/__tests__/route.test.ts[2m > [22mGET /api/videos[2m > [22mreturns 400 for invalid focusAreaId
[31m[1mAssertionError[22m: expected 200 to be 400 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 400[39m
[31m+ 200[39m

[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m314:29[22m[39m
    [90m312| [39m    [35mconst[39m data [33m=[39m [35mawait[39m response[33m.[39m[34mjson[39m()
    [90m313| [39m
    [90m314| [39m    [34mexpect[39m(response[33m.[39mstatus)[33m.[39m[34mtoBe[39m([34m400[39m)
    [90m   | [39m                            [31m^[39m
    [90m315| [39m    [34mexpect[39m(data[33m.[39merror)[33m.[39m[34mtoBeDefined[39m()
    [90m316| [39m  })

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/3]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/app/api/videos/__tests__/route.test.ts


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/app/api/videos/__tests__/route.test.ts [2m([22m[2m11 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 2051[2mms[22m[39m
     [32m‚úì[39m creates video with publishedAt field[32m 217[2mms[22m[39m
     [32m‚úì[39m creates video without publishedAt field (null)[32m 132[2mms[22m[39m
     [32m‚úì[39m returns publishedAt in video response when querying[32m 168[2mms[22m[39m
     [32m‚úì[39m handles invalid publishedAt format gracefully[32m 125[2mms[22m[39m
     [32m‚úì[39m creates video successfully without publishedAt for backward compatibility[32m 131[2mms[22m[39m
     [32m‚úì[39m returns empty list when no videos exist[32m 176[2mms[22m[39m
     [32m‚úì[39m returns videos with all fields including publishedAt[32m 282[2mms[22m[39m
[31m     [31m√ó[31m filters videos by focusAreaId when provided[39m[32m 157[2mms[22m[39m
     [32m‚úì[39m returns all videos when no focusAreaId provided[32m 225[2mms[22m[39m
[31m     [31m√ó[31m returns empty list when focus area has no videos[39m[32m 243[2mms[22m[39m
[31m     [31m√ó[31m returns 400 for invalid focusAreaId[39m[32m 190[2mms[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m8 passed[39m[22m[90m (11)[39m
[2m   Start at [22m 13:33:00
[2m   Duration [22m 10.65s[2m (transform 258ms, setup 918ms, import 2.57s, tests 2.05s, environment 4.48s)[22m
---
timestamp: "2026-02-07 13:33:56"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m[1m[41m Failed Tests 3 [49m[22m[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[41m[1m FAIL [22m[49m src/app/api/videos/__tests__/route.test.ts[2m > [22mGET /api/videos[2m > [22mfilters videos by focusAreaId when provided
[31m[1mError[22m: Failed query: insert into "focus_areas" ("id", "name", "color", "created_at") values (default, $1, $2, default) returning "id", "name", "color", "created_at"
params: React,#61dafb[39m
[90m [2m‚ùØ[22m NodePgPreparedQuery.queryWithCache node_modules/drizzle-orm/pg-core/session.js:[2m41:15[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m117:22[22m[39m
[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m213:25[22m[39m
    [90m211| [39m  [34mit[39m([32m'filters videos by focusAreaId when provided'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m212| [39m    [90m// Create focus area[39m
    [90m213| [39m    [35mconst[39m [focusArea] [33m=[39m [35mawait[39m testDb[33m.[39m[34minsert[39m(schema[33m.[39mfocusAreas)[33m.[39m[34mvalues[39m({
    [90m   | [39m                        [31m^[39m
    [90m214| [39m      name[33m:[39m [32m'React'[39m[33m,[39m
    [90m215| [39m      color[33m:[39m [32m'#61dafb'[39m[33m,[39m

[31m[1mCaused by: error[22m: duplicate key value violates unique constraint "focus_areas_name_unique"[39m
[90m [2m‚ùØ[22m node_modules/pg-pool/index.js:[2m45:11[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m124:18[22m[39m
[90m [2m‚ùØ[22m NodePgPreparedQuery.queryWithCache node_modules/drizzle-orm/pg-core/session.js:[2m39:16[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m117:22[22m[39m
[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m213:25[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ length: 218, severity: 'ERROR', code: '23505', detail: 'Key (name)=(React) already exists.', hint: undefined, position: undefined, internalPosition: undefined, internalQuery: undefined, where: undefined, schema: 'public', table: 'focus_areas', dataType: undefined, constraint: 'focus_areas_name_unique', file: 'nbtinsert.c', routine: '_bt_check_unique' }[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/app/api/videos/__tests__/route.test.ts[2m > [22mGET /api/videos[2m > [22mreturns all videos when no focusAreaId provided
[31m[1mError[22m: Failed query: insert into "focus_areas" ("id", "name", "color", "created_at") values (default, $1, $2, default) returning "id", "name", "color", "created_at"
params: JavaScript,#f7df1e[39m
[90m [2m‚ùØ[22m NodePgPreparedQuery.queryWithCache node_modules/drizzle-orm/pg-core/session.js:[2m41:15[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m117:22[22m[39m
[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m251:25[22m[39m
    [90m249| [39m  [34mit[39m([32m'returns all videos when no focusAreaId provided'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m250| [39m    [90m// Create focus area[39m
    [90m251| [39m    [35mconst[39m [focusArea] [33m=[39m [35mawait[39m testDb[33m.[39m[34minsert[39m(schema[33m.[39mfocusAreas)[33m.[39m[34mvalues[39m({
    [90m   | [39m                        [31m^[39m
    [90m252| [39m      name[33m:[39m [32m'JavaScript'[39m[33m,[39m
    [90m253| [39m      color[33m:[39m [32m'#f7df1e'[39m[33m,[39m

[31m[1mCaused by: error[22m: duplicate key value violates unique constraint "focus_areas_name_unique"[39m
[90m [2m‚ùØ[22m node_modules/pg-pool/index.js:[2m45:11[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m124:18[22m[39m
[90m [2m‚ùØ[22m NodePgPreparedQuery.queryWithCache node_modules/drizzle-orm/pg-core/session.js:[2m39:16[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m117:22[22m[39m
[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m251:25[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ length: 223, severity: 'ERROR', code: '23505', detail: 'Key (name)=(JavaScript) already exists.', hint: undefined, position: undefined, internalPosition: undefined, internalQuery: undefined, where: undefined, schema: 'public', table: 'focus_areas', dataType: undefined, constraint: 'focus_areas_name_unique', file: 'nbtinsert.c', routine: '_bt_check_unique' }[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/3]‚éØ[22m[39m

[41m[1m FAIL [22m[49m src/app/api/videos/__tests__/route.test.ts[2m > [22mGET /api/videos[2m > [22mreturns empty list when focus area has no videos
[31m[1mError[22m: Failed query: insert into "focus_areas" ("id", "name", "color", "created_at") values (default, $1, $2, default) returning "id", "name", "color", "created_at"
params: Empty Category,#cccccc[39m
[90m [2m‚ùØ[22m NodePgPreparedQuery.queryWithCache node_modules/drizzle-orm/pg-core/session.js:[2m41:15[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m117:22[22m[39m
[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m288:25[22m[39m
    [90m286| [39m  [34mit[39m([32m'returns empty list when focus area has no videos'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m287| [39m    [90m// Create focus area with no videos[39m
    [90m288| [39m    [35mconst[39m [focusArea] [33m=[39m [35mawait[39m testDb[33m.[39m[34minsert[39m(schema[33m.[39mfocusAreas)[33m.[39m[34mvalues[39m({
    [90m   | [39m                        [31m^[39m
    [90m289| [39m      name[33m:[39m [32m'Empty Category'[39m[33m,[39m
    [90m290| [39m      color[33m:[39m [32m'#cccccc'[39m[33m,[39m

[31m[1mCaused by: error[22m: duplicate key value violates unique constraint "focus_areas_name_unique"[39m
[90m [2m‚ùØ[22m node_modules/pg-pool/index.js:[2m45:11[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m124:18[22m[39m
[90m [2m‚ùØ[22m NodePgPreparedQuery.queryWithCache node_modules/drizzle-orm/pg-core/session.js:[2m39:16[22m[39m
[90m [2m‚ùØ[22m node_modules/drizzle-orm/node-postgres/session.js:[2m117:22[22m[39m
[36m [2m‚ùØ[22m src/app/api/videos/__tests__/route.test.ts:[2m288:25[22m[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[22m[39m
[31m[1mSerialized Error:[22m[39m [90m{ length: 227, severity: 'ERROR', code: '23505', detail: 'Key (name)=(Empty Category) already exists.', hint: undefined, position: undefined, internalPosition: undefined, internalQuery: undefined, where: undefined, schema: 'public', table: 'focus_areas', dataType: undefined, constraint: 'focus_areas_name_unique', file: 'nbtinsert.c', routine: '_bt_check_unique' }[39m
[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/3]‚éØ[22m[39m



> gold-miner@0.1.0 test
> vitest run src/app/api/videos/__tests__/route.test.ts


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/darindrobinski/dev/repos/gold-miner[39m

 [31m‚ùØ[39m src/app/api/videos/__tests__/route.test.ts [2m([22m[2m11 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[33m 2202[2mms[22m[39m
     [33m[2m‚úì[22m[39m creates video with publishedAt field [33m 404[2mms[22m[39m
     [32m‚úì[39m creates video without publishedAt field (null)[32m 158[2mms[22m[39m
     [32m‚úì[39m returns publishedAt in video response when querying[32m 170[2mms[22m[39m
     [32m‚úì[39m handles invalid publishedAt format gracefully[32m 149[2mms[22m[39m
     [32m‚úì[39m creates video successfully without publishedAt for backward compatibility[32m 209[2mms[22m[39m
     [32m‚úì[39m returns empty list when no videos exist[32m 254[2mms[22m[39m
     [32m‚úì[39m returns videos with all fields including publishedAt[32m 166[2mms[22m[39m
[31m     [31m√ó[31m filters videos by focusAreaId when provided[39m[32m 178[2mms[22m[39m
[31m     [31m√ó[31m returns all videos when no focusAreaId provided[39m[32m 182[2mms[22m[39m
[31m     [31m√ó[31m returns empty list when focus area has no videos[39m[32m 167[2mms[22m[39m
     [32m‚úì[39m returns 400 for invalid focusAreaId[32m 159[2mms[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m8 passed[39m[22m[90m (11)[39m
[2m   Start at [22m 13:33:46
[2m   Duration [22m 9.40s[2m (transform 497ms, setup 492ms, import 3.63s, tests 2.20s, environment 2.51s)[22m
---
timestamp: "2026-02-07 13:52:53"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Read"
error: |
  File content (25891 tokens) exceeds maximum allowed tokens (25000). Please use offset and limit parameters to read specific portions of the file, or use the GrepTool to search for specific content.
---
timestamp: "2026-02-07 14:16:51"
story: "1-ui-enhancements"
chunk: "unknown"
tool: "Bash"
error: |
  Exit code 1
(eval):1: no matches found: src/app/videos/[id]/page.tsx
